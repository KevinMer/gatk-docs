## Making GATK available on the cloud for everyone

By Geraldine_VdAuwera

<p>Today, several members of our extended group are talking at the <a rel="nofollow" href="http://www.bio-itworldexpo.com/">BioIT World</a> meeting in Boston, and the Broad mothership is putting out a handful of announcements that are related to GATK. Among other communications there's a <a rel="nofollow" href="https://www.broadinstitute.org/news/8065">press release</a> accompanied by a blog post on the <a rel="nofollow" href="https://www.broadinstitute.org/news/8066">Broad Institute blog</a>, which unveil a landmark agreement we have reached with several major cloud vendors. I'd like to take a few minutes to discuss what is at stake, both in terms of what we're doing, and of how this will affect the wider GATK community.</p>

<p>These announcements all boil down to two things: we built a platform to run the Broad's GATK analysis pipelines in the cloud instead of our local cluster, and we're making that platform accessible to the wider community following a "Software as a  Service" (SaaS) model.</p>

<p>Now, before we get any further into discussing what that entails, I want to reassure everyone that we will continue to provide the GATK software as a downloadable executable that can be used anywhere, whether locally on your laptop, on your institution's server farm or computing cluster, or on a cloud platform if you've already got that set up for yourself. The cloud-based service we're announcing is just one more option that we're making available for running GATK. And it should go without saying that we'll continue to provide the same level of support as we have in the past to everyone through the GATK forum; our commitment to that mission is absolute and unwavering.</p>

<p>Alright, so what's happening exactly? Read on to find out!</p>

<hr></hr><p>As discussed recently on this very blog, we've been migrating a substantial portion of the Broad's production genomic analysis pipelines <a rel="nofollow" href="https://www.broadinstitute.org/gatk/blog?id=7372">to the cloud</a>. This move was motivated in large part by a need for greater <em>elasticity</em> to deal with the onslaught of massive projects periodically hammering our datacenter (I'm looking at you, <a rel="nofollow" href="https://twitter.com/dgmacarthur">@dgmacarthur</a>) as well as a drive toward increased cost-efficiency. But it was also a recognition that the mind-boggling rate at which genomic data is generated (roughly doubling every 8 months!) means we have to adapt how we share and interact with these frankly staggering amounts of data.</p>

<p>To that end, we've been working elbow to elbow with Google engineers for the past eighteen months; in short, they taught us how to cloud and we taught them how to genome. Together we built a system capable of <a rel="nofollow" href="http://googleresearch.blogspot.com/2016/04/genomic-data-processing-on-google-cloud.html">operating our GATK Best Practices production pipelines at scale on the Google Cloud Platform (GCP)</a>, using <a rel="nofollow" href="https://www.broadinstitute.org/gatk/blog?id=7372">Cromwell and WDL</a> to define and execute the actual workflows. We've also been working closely with a team from the <a rel="nofollow" href="http://www.intel.com/content/www/us/en/healthcare-it/life-sciences.html">Intel Life Sciences</a> division to solve some of the key challenges involved in scaling up to the next order of dataset magnitude, resulting in a <a rel="nofollow" href="http://genomicinfo.broadinstitute.org/acton/media/13431/broad-intel-collaboration">new kind of database</a> that will enable us to perform joint calling on tens, even hundreds of thousands of genomes at a time.</p>

<p>We're already running the Broad's whole genomes on this new platform, and eventually we plan to migrate most if not all our research pipelines (exomes, RNA etc) as well. As a corollary, all of the analysis results produced by the cloud-based pipeline are delivered to researchers through cloud-based workspaces within which they can kick off further analyses. That way, what happens on the cloud stays on the cloud, as far into the process as possible (in part to minimize egress charges).</p>

<p>From my perspective the most immediate upshot of this is that it finally puts us within reach of the holy grail of reproducibility: given the pipeline WDL scripts and resource datasets (both of which we plan to share freely) anyone will be able to reproduce our pipeline processing on their own instance of the Google Cloud with complete independence.</p>

<p>That being said, standing up and administering your own cloud-based service is not exactly trivial, and we know there's a lot of demand for push-button solutions, so we built our system to double as a <em>Software as a Service</em> (SaaS) platform that we can make publicly available for the convenience of the wider community.  We plan to make this service accessible to everyone, Broadies and non-Broadies alike, including commercial/for-profit organizations, under the same conditions. Exact pricing has yet to be determined, but it will certainly include the cloud vendor's compute costs, and there will be no separate licensing cost for for-profit use.</p>

<p>We're also opening resale of GATK as a service to commercial SaaS vendors in order to maximize the options available to the community. Illumina has signed on as the first to offer <a rel="nofollow" href="http://genomicinfo.broadinstitute.org/acton/media/13431/illumina-collaboration">GATK as a service through BaseSpace</a> via Cromwell+WDL, and we're working with all the major cloud computing vendors mentioned above to ensure that the Cromwell+WDL pipelining solution will work as seamlessly and cost-effectively on their platforms as it does today on Google Cloud Platform.</p>

<p>Our ultimate goal here is to reduce the amount of effort that goes into standing up and maintaining implementations of GATK Best Practices worldwide, so that all those resources can be refocused on more interesting work. Personally, I expect that these new developments will contribute to making the GATK Best Practices more readily accessible and affordable to all, and I'm looking forward to being able to announce the availability of the new service later this year!</p>
