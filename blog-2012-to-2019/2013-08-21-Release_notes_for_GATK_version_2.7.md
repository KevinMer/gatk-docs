## Release notes for GATK version 2.7

By ebanks

<p>GATK 2.7 was released on August 21, 2013. Highlights are listed below. Read the detailed version history overview here: <a href="http://www.broadinstitute.org/gatk/guide/version-history" rel="nofollow">http://www.broadinstitute.org/gatk/guide/version-history</a></p>

<hr></hr><h2>Reduce Reads</h2>

<ul><li>Changed the underlying convention of having unstranded reduced reads; instead there are now at least 2 compressed reads at every position, one for each strand (forward and reverse).  This allows us to maintain strand information that is useful for downstream filtering.</li>
<li>Fixed bug where representative depths were arbitrarily being capped at 127 (instead of the expected 255).</li>
<li>Fixed bug where insertions downstream of a variant region weren't triggering a stop to the compression.</li>
<li>Fixed bug when using --cancer_mode where alignments were being emitted out of order (and causing the tool to fail).</li>
</ul><h2>Unified Genotyper</h2>

<ul><li>Added --onlyEmitSamples argument that, when provided, instructs that caller to emit only the selected samples into the VCF (even though the calling is performed over all samples present in the provided bam files).</li>
<li>FPGA support was added to the underlying HMM that is automatically used when the appropriate hardware is available on the machine.</li>
<li>Added a (very) experimental argument (allSitePLs) that will have the caller emit PLs for all sites (including reference sites).  Note that this does not give a fully accurate reference model because it models only SNPs.  Full a proper handling of the reference model, please use the Haplotype Caller.</li>
</ul><h2>Haplotype Caller</h2>

<ul><li>Added a still somewhat experimental PCR indel error model to the Haplotype Caller.  By default this modeling is turned on and is very useful for removing false positive indel calls associated with PCR slippage around short tandem repeats (esp. homopolymers).  Users have the option (with the --pcr_indel_model argument) of turning it off or making it even more aggressive (at the expense of losing some true positives too).</li>
<li>Added the ability to emit accurate likelihoods for non-variant positions (i.e. what we call a "reference model" that incorporates indels as well as SNP confidences at every position).  The output format can be either a record for every position or use the gVCF style recording of blocks.  See the --emitRefConfidence argument for more details; note that this replaces the use of "--output_mode EMIT_ALL_SITES" in the HaplotypeCaller.</li>
<li>Improvements to the internal likelihoods that are generated by the Haplotype Caller.  Specifically, this tool now uses a tri-state correction like the Unified Genotyper, corrects for overlapping read pairs (from the same underlying fragment), and does not run contamination removal (allele-biased downsampling) by default.</li>
<li>Several small runtime performance improvements were added (although we are still hard at work on larger improvements that will allow calling to scale to many samples; we're just not there yet).</li>
<li>Fixed bug in how adapter clipping was performed (we now clip only after reverting soft-clipped bases).</li>
<li>FPGA support was added to the underlying HMM that is automatically used when the appropriate hardware is available on the machine.</li>
<li>Improved the "dangling tail" recovery in the assembly algorithm, which allows for higher sensitivity in calling variants at the edges of coverage (e.g. near the ends of targets in an exome).</li>
<li>Added the ability to run allele-biased downsampling with different per-sample values like the Unified Genotyper (contributed by Yossi Farjoun).</li>
</ul><h2>Variant Annotator</h2>

<ul><li>Fixed bug where only the last -comp was being annotated at a site.</li>
</ul><h2>Indel Realigner</h2>

<ul><li>Fixed bug that arises because of secondary alignments and that was causing the tool not to update the alignment start of the mate when a read was realigned.</li>
</ul><h2>Phase By Transmission</h2>

<ul><li>Fixed bug where multi-allelic records were being completely dropped by this tool.  Now they are emitted unphased.</li>
</ul><h2>Variant Recalibrator</h2>

<ul><li>General improvements to the Gaussian modeling, mostly centered around separating the parameters for the positive and negative training models.</li>
<li>The percentBadVariants argument has been replaced with the numBad argument.</li>
<li>Added mode to not emit (at all) variant records that are filtered out.</li>
<li>This tool now automatically orders the annotation dimensions by their standard deviation instead of the order they were specified on the command-line in order to stabilize the training and have it produce optimal results.</li>
<li>Fixed bug where the tool occasionally produced bad log10 values internally.</li>
</ul><h2>Miscellaneous</h2>

<ul><li>General performance improvements to the VCF reading code contributed by Michael McCowan.</li>
<li>Error messages are much less verbose and "scary."</li>
<li>Added a LibraryReadFilter contributed by Louis Bergelson.</li>
<li>Fixed the ReadBackedPileup class to represent mapping qualities as ints, not (signed) bytes.</li>
<li>Added the engine-wide ability to do on-the-fly BAM file sample renaming at runtime (see the documentation for the --sample_rename_mapping_file argument for more details).</li>
<li>Fixed bug in how the GATK counts filtered reads in the traversal output.</li>
<li>Added a new tool called Qualify Intervals.</li>
<li>Fixed major bug in the BCF encoding (the previous version was producing problematic files that were failing when trying to be read back into the GATK).</li>
<li>Picard/sam/tribble/variant jars updated to version 1.96.1534.</li>
</ul>