## GATK 2.0 announcement

By Mark_DePristo

<h1>GATK 2.0</h1>
 On July 23rd, 2012, the Genome Sequencing and Analysis (GSA) team will release a beta of GATK 2.0.  GATK 2.0 includes all of the original GATK 1.x tools as well as many newer and more advanced tools for error modeling, data compression, and variant calling:<br><ul><li>Base quality score recalibration (BQSR) v2, an upgrade to BQSR that generates a base substitution, insertion, and deletion error model.<br></li><li>ReduceReads, a BAM compression algorithm that reduces file sizes by 20x-100x while preserving all information necessary for accurate SNP and indel calling.  ReduceReads enables the GATK to call tens of thousands of deeply sequenced NGS samples simultaneously.<br></li><li>The HaplotypeCaller, a multi-sample local de novo assembly and integrated SNP, indel, and short SV caller.<br></li><li>Powerful extensions to the Unified Genotyper to support variant calling of pooled samples, mitochondrial DNA, and non-diploid organisms.  Additionally, the extended Unified Genotyper introduces a novel error modeling approach that uses a reference sample to build a site-specific error model for SNPs and indels that vastly improves calling accuracy.<br></li></ul><h3>GATK 2.0 is moving to a mixed open/closed-source model</h3>
The complete GATK 2.0 suite will be distributed as a binary only, without source code for the newest tools. We plan to release the source code for these tools, but its unclear the timeframe for this.<br>The GATK engine and programming libraries will remain open-sourced under the MIT license, as they currently are for GATK 1.0.<br>The current GATK 1.0 tool chain, now called GATK-lite, will remain open-source under the MIT license and distributed as a companion binary to the full GATK binary. GATK-lite includes the original base quality score recalibrator (BQSR), indel realigner, unified genotyper v1, and VQSR v2.<br><h3>GATK 2.0 beta</h3>
The GATK 2.0 tools are under active development but they have matured to the point that non-Broad academics and researchers are welcome to use them. We appreciate feedback on their use, both successes and failures. Please be aware that the GATK 2.0 tool chain may be unstable, slow, not scalable, poorly documented, or not interact seamlessly among each other or with other tools in the suite, so could require more effort from users. With these caveats, these tools provide radically improved calling sensitivity, specificity, and performance, so are worth the exposure as beta software.<br><h3>GATK licensing during and after the beta</h3>
GATK 2.0 is being released under a software license that permits non-commercial research use only. Until the beta ends and the full GATK 2.0 suite is officially launched, commercial activities should use the unrestricted GATK-lite version. <br><br>In the fall we intend to release the full version of GATK 2.0.  The full version will be free-to-use version for non-commercial entities, just like the beta.  A commercial license will be required for commercial entities.  This commercial version will include commercial-grade support for installation, configuration, and documentation, as well as long-term support for each commercial release.<br><br><br><hr></hr><h2>Frequently Asked Questions (FAQ)</h2>
<h3>Basic</h3>
<b>What does it mean that GATK 2.0 is a beta version?  Is it safe to use these tools?</b><br>Yes, the GATK 2.0 tools are actually quite stable and have been (relatively) widely used by the GSA team to make variation calls for large-scale projects like 1000 Genomes and T2D-GENES.  They are beta because they haven’t been used outside of the Broad Institute, and so are likely to have bugs and other usability issues we will need to address over time.  Furthermore, they are all evolving rapidly as we improve them and use them in more demanding settings, and so they are expected to change significantly over the next few years as they are perfected, just as happened with the GATK 1.0 suite of tools.<br><br><b>How can I find out best practices for using GATK 2.0 tools?</b><br>The best place is our newly revised GATK Best Practice v4 guide, which will be finalized on July 23rd here:<br><br><a href="http://gatk.vanillaforums.com/discussion/18/experimental-best-practice-variant-detection-with-the-gatk-v4-for-release-2-0" rel="nofollow">http://gatk.vanillaforums.com/discussion/18/experimental-best-practice-variant-detection-with-the-gatk-v4-for-release-2-0</a><br><br><b>Where can I find out more information about the new GATK 2.0 tools?</b><br>The best place is in our slide archive, where the GSA team has collected many presentations detailing the evolution and analysis of the new 2.0 tools.<br><br><a href="https://www.dropbox.com/sh/e31kvbg5v63s51t/6GdimgsKss" rel="nofollow">https://www.dropbox.com/sh/e31kvbg5v63s51t/6GdimgsKss</a><br><br><b>How do I download GATK 2.0?</b><br>From the <a rel="nofollow" href="http://www.broadinstitute.org/gatk/">new GATK website</a>.  <br><br><b>How do you support GATK 2.0 tools?</b><br>Using the new GATK support forum:<br><br><a href="http://gatk.vanillaforums.com/" rel="nofollow">http://gatk.vanillaforums.com/</a><br><br>Content from the old GetSatisfaction support forum will be transitioned over to the new GATK forums over the next few weeks.  These new forums should help users find the answers to their questions much more easily (the new forum is indexed by Google) as well as allow users to more easily follow each other's post and answer each others questions.<br><br><b>What specifically is in the new GATK 2.0 beta license?</b><br>Please see the new GATK2 license terms here, in its temporary home:<br><br><a href="https://www.dropbox.com/s/giru0lqihudhy0s/GATK2_beta_license.pdf" rel="nofollow">https://www.dropbox.com/s/giru0lqihudhy0s/GATK2_beta_license.pdf</a><br><br>When GATK 2.0 is released to github the new terms will be available:<br><br><a href="https://github.com/broadgsa/gatk/blob/master/licensing/GATK2_beta_license.pdf" rel="nofollow">https://github.com/broadgsa/gatk/blob/master/licensing/GATK2_beta_license.pdf</a><br><br><b>How do you administer the new GATK 2.0 license?</b><br>Once you register with the new GATK 2.0 forums, you can download the full GATK 2.0 and agree to the new license terms.<br><br><b>Will you continue to support retired tools like the first version of BQSR?</b><br>No, in the medium-term (next few months) retired tools will no longer be supported.  In the short-term, yes, we will continue to respond to support requests on the new forums while people transition to GATK 2.0.<br><br><b>What is GATK-lite?</b><br>GATK-lite is a subset of the full GATK 2.0 release that is free-to-use for all entities, including commercial ones.  It includes all of the capabilities (if not the exact tools) from GATK 1.6 but none of the exclusive 2.0 tools.  <br><br>For the tech-savvy, GATK-lite is the binary distribution corresponding to the public GATK source released on github.  Everything in GATK-lite is licensed under the MIT license.<br><br>GATK-Lite includes the entire GATK map/reduce programming framework, all associated GATK libraries, and the vast majority of GATK tools.  For example, most of the Unified Genotyper, all of Indel Realigner, CombineVariants, SelectVariants, and VariantEval are all part of GATK-Lite.  All of GATK-Queue is also part of GATK-Lite.<br><br>The best way to think about GATK (implicitly -full) and GATK-lite is that both GATK and GATK-lite are GATK2, but -lite includes only the open sourced framework, library, and tools.  GATK2 is effectively a superset of GATK-lite, built from the same source code, that includes a few closed-source premium tools.  <br><br>GATK-Lite isn't a dead-end branch of GATK1.  All GATK-Lite infrastructure will be fully supported -- to the same degree as GATK1 -- by the GSA team, as we will rely on these tools day-in and day-out.  GATK-Lite is evolve in lock-step with the full GATK, GATK-Lite and GATK(-full) will carry the same release numbers, and will be pushed out by the GSA group simultaneously.  As we add new file formats to the GATK (BCF2, for example) these changes will go into the core of GATK, and be available through both GATK and GATK-Lite.<br><br><hr></hr><h3>Licensing</h3>
<b>I’m an academic researchers and I’d like to use GATK 2.0, what do I need to do?</b><br><br>Just download the full GATK jar from our new website, after agreeing to the GATK 2.0 license terms. <br><br><b>I run a genome sequencing center / NGS core facility at an academic institution, can I install GATK 2.0 for my users to run?</b><br><br>Yes, you can upgrade to GATK 2.0, assuming your institution is an academic non-commercial entity. The GATK 2.0 beta license explicitly allows the installation in a pipeline.<br><br><b>I work in a clinical lab at a hospital, and we use GATK 1.0 tools in our diagnostics lab, can I use GATK 2.0?</b><br><br>Yes and no.  If the lab engages solely in non-commercial activities (such as clinical research) then yes.  If the lab “sells” diagnostic services to health care providers then no, you’ll need to wait until the commercial license is available to upgrade.  If the lab does a mix of both, you are welcome to provide a 2.0 pipeline for non-commercial uses while maintaining a 1.0 pipeline for commercial users, until you can upgrade to the commercial license.<br><br><b>I work in a government facility, can I use GATK 2.0?</b><br><br>Yes, the GATK development was and is supported by U.S. federal research grants that entitle government researchers to use the GATK.<br><br><b>I work in a commercial entity (i.e., for-profit company), can I use GATK 2.0?</b><br><br>No, you’ll need to wait until a commercial license version is available later this year.  The only exception is answered in the next question.<br><br><b>Even though I work for a commercial entity, I’d like to evaluate GATK 2.0 in a non-production way; is that permitted under the GATK 2.0 beta?</b><br><br>Yes, we view evaluating and exploring the new tools in the GATK 2.0 as “research,” but this requires a special license that can only be obtained from the Broad’s business development office.  Please contact Issi Rozen (irozen@) to obtain this commercial evaluation license.  Note that this license is only valid until the full commercial release which will likely have it’s own trial version for commercial entities.<br><br><b>I built a portal that provides access directly to GATK 2.0 tools, how does the new GATK 2.0 license affect me?</b><br><br>As the GATK 2.0 beta license forbids redistribution of GATK 2.0 tools, you must ensure that these tools are only accessible to users within your institution.  You are welcome to install and provide access to tools in GATK-lite, though.  GATK-lite contains all of the code -- with a completely non-restrictive MIT license -- available in the latest GATK 1.6 release.  <br><br>We are actively interested in defining reasonable use terms for third-party pipelines, so please contact Mark DePristo (depristo@) to discuss the matter further.<br><br><b>I work at an academic non-commercial institution, and I built a NGS pipeline that runs GATK tools on sequencing data.  We often distribute BAMs and VCFs processed by GATK to our collaborators both within and external to the institution, how does the new GATK 2.0 license affect me?</b><br><br>Very little.  The GATK 2.0 license allows academic non-commercial institutions to install, run, and distribute GATK-based results.  Commercial institutions, however, are not permitted to use the GATK 2.0 beta, so can only do this using the unrestricted GATK-lite distribution.  Note that when the commercial version of the GATK becomes available in late 2012, commercial institutions will have the opportunity to run and distribute the results of GATK 2.0 tools.<br><br><b>I work at an academic institution, and we conduct sponsored research on behalf of commercial entities, how does the new GATK 2.0 license affect me?</b><br>The GATK 2.0 licence explicitly allows an academic non-commercial entity to run GATK2.0 as part of sponsored research projects.<br><br><b>I make NGS instruments and have embedded GATK in my instrument, how does the new GATK 2.0 license affect me?</b><br><br>The current GATK 2.0 license forbids redistribution of GATK 2.0 binaries, so you will not be able to download GATK 2.0 and redistribute it on your instruments.  Of course, you are welcome to redistribute GATK-lite.  We envision that instrument manufactures will be able to purchase a commercial, redistribution license when the the full commercial GATK version is available in late 2012.<br><br>We are actively interested in defining reasonable use terms for instrument manufacturers who want to embed GATK, so please contact Mark DePristo (depristo@) to discuss the matter further.<br><br><b>I compile and distribute an NGS analysis suite that includes the GATK.  How does the new GATK 2.0 license affect me?</b><br><br>The new GATK 2.0 license forbids redistribution of the GATK 2.0 tools.  You will not be able to include GATK 2.0 tools in your distribution going forward.  You are welcome to install and distribute the tools GATK-lite, though, which is effectively what you have been doing with GATK 1.6.  We are actively interested in defining reasonable use terms for third-party redistribution of the premium GATK2 suite, so please contact Mark DePristo (depristo@) to discuss the matter further.<br><br><b>I took the GATK and rewrote parts of the engine or individual tools to make them faster or better.  How does the new 2.0 license affect me?</b><br><br>Very little.  The GATK map/reduce programming framework and all associated libraries will continue to be available at github under the MIT license.  Any improvements you made to the framework will continue to be viable and can be made available to the community in any way you see fit (see below for additional details).  <br><br>Most of the GATK 1.6 tools remains in the new GATK-lite distribution on github as well, so improvements to any of those tools will remain valuable, and can be redistributed freely as the GATK-lite tools all have an MIT license.<br><br>Applying your engine optimizations to the new, protected GATK 2.0 tools can only be explored through a formal collaboration with the GATK team.<br><br><b>I built several NGS tools on top of the GATK, how does the new GATK 2.0 license affect me?</b><br><br>The GATK map/reduce programming framework and all associated libraries will continue to be available at github under the MIT license (i.e., the distribution known as GATK-Lite).  We recommend you use and redistribute the GATK framework along with any independently written tools in any way and under any license you choose via the GATK-Lite github distribution mechanism.  Several Broad Institute tools from the Cancer Genome Analysis team are distributed in just this way.<br><br>See questions about GATK-Lite for more details as well, as this covers the framework and many associated tools in more detail.<br><br><hr></hr><h3>Commercial GATK</h3>
<b>What features will the commercial version of the GATK have?</b><br><br>The commercial version of the GATK aims to be a slower evolving, better documented, and better supported version of the one released by the GSA team at the Broad.  This means that the commercial version will not contain all of the bleeding edge features of the non-commercial GATK release.  Moreover, the commercial version will not contain any significant additional features not available in the non-commercial version. <br><br>That said, the commercial version of the GATK will come with vastly better support than the non-commercial version.  This includes 
<ul><li>More extensive installation and use documentation. <br></li><li>“consulting” services to help configure and optimize GATK for a particular NGS sequencing process<br></li><li>A phone number to call when something is broken along with a service-level agreement that guarantees a response to the problem within a reasonable timeframe.  <br></li><li>Long-term support for each released version of the commercial GATK, a particularly important feature for users interested in using the GATK in certified processes, such as CLIA.  <br></li></ul><b>Will the commercial version include features not available in the non-commercial of the GATK?</b><br>No.  See “What will be the relationship between the commercial and GSA released version of the GATK?” below for more information<br><br><b>Will I be able to purchase the commercial version of the GATK even if I work in a non-commercial entity?</b><br>Yes, you can.  With the commercial version you will gain access to the improved documentation and support.<br><br><b>Why did you decide to restrict the GATK 2.0 beta to non-commercial entities?</b><br>Because commercial entities will be required to purchase a software license to use the full GATK 2.0 suite.  <br><br><b>When will the commercial version be available?</b><br>In late 2012.<br><br><b>How much will the commercial version of the GATK cost?</b><br>The specific pricing model has yet to be determined. <br><br><b>What will be the relationship between the commercial and GSA released version of the GATK?</b><br>The GSA team will continue to release GATK versions on the 6-8 week timeframe, following the standard 2.0, 2.1, 2.2, etc. version convention.  These will be available to non-commercial entities.   The commercial version will evolve at a slower rate and aggregate many GSA GATK versions into larger commercial releases with much more extensive configuration and use documentation.  Unlike the GSA released versions, where the current release is the only supported one, the commercial versions will each be supported for much longer periods of time.  <br><br><br><hr></hr><h3>Source code</h3>
<b>Why did you decide to make parts of the GATK closed source?</b><br>About a year ago we started to develop the tools that ultimately became part of the binary-only GATK 2.0, including BQSRv2, the advanced UG modules, ReducedReads, and the HaplotypeCaller.  From the start these tools were kept private to the master GATK repository, as they were all completely unstable, unusable, and unpublished.   As they have evolved into their now usable forms we wanted to share these tools with the community as soon as possible, before any papers, patents, or other forms of intellectual property protection were in place.  Releasing binary versions allows us to share our capabilities early while ensuring some IP protection.<br><br>Additionally, a closed source model allows us more flexibility in the software licensing terms we enforce with the GATK 2.0.  In particular reserving a subset of closed source tools protected by a non-commercial use license allows us to ensure that the research community has access to GATK tools as quickly as possible while preserving the value of a version of GATK licensed to commercial entities.<br><br><b>What GATK source code is available through github?</b><br>The released GATK source code on github includes the latest GATK programming framework and most GATK tools, including everything from GATK 1.x, as well as associated test files and build scripts.  The only material not pushed up to github from the master GATK repository are private tools (not shared in source or binary form) and protected tools (available in binary form only). <br><br><b>Can I get a copy of the source code for the new GATK 2.0 tools like ReducedReads?</b><br>No, the source code for some of the new GATK 2.0 tools is not being released, and are only available in binary form (i.e., as compiled java JVM instructions).<br><br><b>Are you open to collaboration to obtain access to GATK 2.0 tool source code?</b><br>Yes, several long-term close collaborators have access to the full GATK repository with public and private libraries.  Please contact Mark DePristo (depristo@) to discuss this possibility further.<br><br><b>The GATK makes use of open source libraries, how do you comply with their license restrictions in a closed source GATK?</b><br>We provide, upon request, a GenomeAnalysisTK.jar file built without pre-packaging any of our dependencies, which can be used to independently link the master GATK jar to any version of our dependencies. <br><br><b>Will you ever make the new GATK 2.0 tools open source?</b><br>Yes, over time we plan to migrate closed source tools into the open source branch of the GATK.<br><br><b>What source is included with GATK-Lite</b><br>GATK-Lite is basically everything in GATK 1.6, including the entire GATK programming framework and all associated libraries.  It also includes the vast majority of tools in the GATK -- only a few select, premium analysis tools like the HaplotypeCaller are only in the full version of the GATK.  Improves to the GATK framework, libraries, and lite tools will all continue to be developed and released as part of the GATK-lite distribution.  